{
  "name": "fh-db",
  "description": "FeedHenry Database Library",
  "version": "1.2.2",
  "repository": {
    "type": "git",
    "url": "git@github.com:feedhenry/fh-db.git"
  },
  "license": "Apache-2.0",
  "main": "./lib/localdb.js",
  "directories": {
    "lib": "./lib/"
  },
  "scripts": {
    "test": "expresso -I lib",
    "version": "sed -i.bak \"s/sonar.projectVersion=.*/sonar.projectVersion=${npm_package_version}/\" sonar-project.properties && rm sonar-project.properties.bak && git add sonar-project.properties"
  },
  "engines": {
    "node": "*"
  },
  "dependencies": {
    "adm-zip": "~0.4.4",
    "archiver": "1.0.0",
    "async": "1.5.2",
    "bson": "0.4.22",
    "csvtojson": "0.3.6",
    "jcsv": "0.0.3",
    "lodash": "2.4.1",
    "mongodb": "2.1.18",
    "stream-buffers": "3.0.0"
  },
  "devDependencies": {
    "grunt": "^0.4.5",
    "grunt-fh-build": "^0.5.0",
    "istanbul": "^0.3.17"
  },
  "readme": "fh-db(1) -- The FeedHenry Database access library\n===============================================\n\n[![npm package](https://nodei.co/npm/fh-db.png?downloads=true&downloadRank=true&stars=true)](https://nodei.co/npm/fh-db/)\n\n[![Dependency Status](https://img.shields.io/david/feedhenry/fh-db.svg?style=flat-square)](https://david-dm.org/feedhenry/fh-db)\n[![Known Vulnerabilities](https://snyk.io/test/npm/fh-db/badge.svg?style=flat-square)](https://snyk.io/test/npm/fh-db)\n\n|                 | Project Info  |\n| --------------- | ------------- |\n| License:        | Apache License, Version 2.0  |\n| Build:          | npm  |\n| Documentation:  | http://docs.feedhenry.com/v3/api/cloud_api.html  |\n| Issue tracker:  | https://issues.jboss.org/projects/FH/summary  |\n| Mailing list:   | [feedhenry-dev](https://www.redhat.com/archives/feedhenry-dev/) ([subscribe](https://www.redhat.com/mailman/listinfo/feedhenry-dev))  |\n| IRC:            | [#feedhenry](https://webchat.freenode.net/?channels=feedhenry) channel in the [freenode](http://freenode.net/) network.  |\n\n## DESCRIPTION\n\nThis contains the fh.db() layer the works above the mongodb library. It has a Ditch-like interface, with the same actions and parameters\n\n## Installation\n\nAdd fh-db as a dependency to your module and require it where required, like any other npm module\n\n## Testing\n\n**N.B. This guide assumes you have a functional [docker-machine](https://docs.docker.com/machine/install-machine/).**\n\n### Start Mongo Server\nStart the docker machine for the version of mongo you wish to test:\n```bash\ndocker run -d -p 27017:27017 mongo:2.4\n```\n\n### Note for docker-machine users\nYou will need to connect your localhost:27017 to the docker-machine:27017, do this with the following command:\n```\nVBoxManage controlvm <docker-machine-name> natpf1 \"docker-mongo,tcp,127.0.0.1,27017,,27017\"\n```\nIn the above `docker-mongo` is the name of the rule, this is important to remember, in order to remove it when not required.\n\nRemove the above rule as follows:\n```\nVBoxManage controlvm dev natpf1 delete docker-mongo\n```\n\n\n### Setup Mongo Database\nconnect to Mongo:\n```\nmongo\n```\n\n#### For versions > 3.x\nYou will need to update the authentication to work with fh-db, which is done as follows:\n```\nuse admin\ndb.system.users.remove({})\ndb.system.version.remove({})\ndb.system.version.insert({ \"_id\" : \"authSchema\", \"currentVersion\" : 3 })\n```\n\nThen exit mongo and restart the docker container:\n```\ndocker stop <container-name>\ndocker start <container-name>\n```\n\nAnd reconnect to mongo:\n```\nmongo\n```\n\n#### Add the admin user:\n##### 2.4.x\n```\nuse admin\ndb.addUser('admin', 'admin');\n```\n##### >= 2.6\n```\nuse admin\ndb.createUser({user: 'admin', pwd: 'admin', roles: ['root']})\n```\n\n##### Test the login:\nexit mongo and run:\n```\nmongo admin -u admin -p admin\n```\n\n#### Add the ditchuser\n\nLog in as the admin user, if you are not yet, then run:\n##### 2.4.x\n```\nuse fh-ditch\ndb.addUser('ditchuser', 'ditchpassword');\n```\n\n##### >= 2.6\n```\nuse fh-ditch\ndb.createUser({user: 'ditchuser', pwd: 'ditchpassword', roles: ['dbAdmin']})\n```\n\n##### Test the login:\nExit Mongo and run:\n```\nmongo fh-ditch -u ditchuser -p ditchpassword\n```\n\n### Execute the test\n```\ngrunt fh:unit\n```\n",
  "readmeFilename": "README.md",
  "bugs": {
    "url": "https://github.com/feedhenry/fh-db/issues"
  },
  "homepage": "https://github.com/feedhenry/fh-db",
  "_id": "fh-db@1.2.2",
  "_shasum": "8b3606b650a9e28730c94d1ce7c6ac9d48038e00",
  "_from": "https://registry.npmjs.org/fh-db/-/fh-db-1.2.2.tgz",
  "_resolved": "https://registry.npmjs.org/fh-db/-/fh-db-1.2.2.tgz"
}
